<html>
<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
    <title>{{title.name}}</title>
</head>
<body>
    <header class="d-flex flex-column flex-md-row align-items-center p-3 px-md-4 mb-3 bg-body border-bottom shadow-sm">
        <p class="h1 my-0 me-md-auto fw-normal">{{title.name}}</p>
        <a class="btn btn-outline-primary" href="../index.html">Home</a>
    </header>
    <main style="margin:15px">
        <div class="row">
            <div class="col">
                {%if title.de_jure != none%}
                De jure title liege: 
                {%if title.de_jure.shallow%}
                {{title.de_jure.name}}
                {%else%}
                <a href="{{title.de_jure.id}}.html">{{title.de_jure.name}}</a>
                {%endif%}
                <br>
                {%endif%}
                {%if title.de_facto != none%}
                De facto title liege:
                {%if title.de_facto.shallow %} 
                {{title.de_facto.name}}
                {%else%}
                <a href="{{title.de_facto.id}}.html">{{title.de_facto.name}}</a>
                {%endif%}
                <br>
                {%endif%}
                {%if title.vassals is defined%}
                De jure vassals:
                <ul>
                    {%for vassal in title.vassals%}
                        {%if vassal.shallow%}
                        <li>{{vassal.name}}</li>
                        {%else%}
                        <li><a href="{{vassal.titleid}}.html">{{vassal.name}}</a></li>
                        {%endif%}
                    {%endfor%}
                </ul>
                {%endif%}
            </div>
            <div class="col">
                <div class="card" style="width:50rem">
                    <div class="card-header">
                        Title History
                    </div>
                    <div class="card-body">
                        {%if title.history|length != 0%}
                        <ul class="list-group list-group-flush">
                            {%for item in title.history%}
                            <li class="list-group-item">{{item[0]}}:{%if item[1].shallow%}{{item[1].name}}{%else%}<a href="../characters/{{item[1].id}}.html">{{item[1].name}}</a>{%endif%} {{item[2]}}</li>
                            {%endfor%}
                        </ul>
                        {%else%}
                        There is no history to display
                        {%endif%}
                    </div>
                </div>
            </div>
        </div>
    </main>
</body>
</html>